{"ast":null,"code":"import _defineProperty from\"/Users/rafaelbrigati/Desktop/aqua-pet-shop-client2/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/rafaelbrigati/Desktop/aqua-pet-shop-client2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/rafaelbrigati/Desktop/aqua-pet-shop-client2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useContext}from\"react\";import{Link,useNavigate}from\"react-router-dom\";// import axios from \"axios\";\nimport{AuthContext}from\"../context/auth.context\";import authMethods from\"../services/auth.service\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState({username:'',password:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var navigate=useNavigate();var _useContext=useContext(AuthContext),storeToken=_useContext.storeToken,authenticateUser=_useContext.authenticateUser;var handleChange=function handleChange(e){var name=e.target.name;var value=e.target.value;setUser(function(user){return _objectSpread(_objectSpread({},user),{},_defineProperty({},name,value));});};var handleSubmit=function handleSubmit(e){e.preventDefault();authMethods.logIn(user).then(function(tokenObject){storeToken(tokenObject.authToken);authenticateUser();navigate(\"/\");}).catch(function(err){return console.error(err);});};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"loginForm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",value:user.username,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:user.password,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"If you don't have an account yet, you can create your account \",/*#__PURE__*/_jsx(Link,{to:'/signup',children:\"here\"}),\" \"]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onSubmit:handleSubmit,children:\"Login \"})]});};export default Login;","map":{"version":3,"names":["React","useState","useContext","Link","useNavigate","AuthContext","authMethods","jsx","_jsx","jsxs","_jsxs","Login","_useState","username","password","_useState2","_slicedToArray","user","setUser","navigate","_useContext","storeToken","authenticateUser","handleChange","e","name","target","value","_objectSpread","_defineProperty","handleSubmit","preventDefault","logIn","then","tokenObject","authToken","catch","err","console","error","onSubmit","className","children","type","onChange","to"],"sources":["/Users/rafaelbrigati/Desktop/aqua-pet-shop-client2/src/pages/Login.js"],"sourcesContent":["import React from 'react';\nimport { useState, useContext } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\n// import axios from \"axios\";\nimport { AuthContext } from \"../context/auth.context\";\nimport authMethods from \"../services/auth.service\";\n\nfunction Login () {\n\n    const [user, setUser] = useState({username: '', password: ''});\n    const navigate = useNavigate();\n    const { storeToken, authenticateUser } = useContext(AuthContext);\n\n    const handleChange = (e) => {\n        const name = e.target.name;\n        const value = e.target.value;\n        setUser(user => ({...user, [name]: value}))\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n\n       authMethods.logIn(user)\n            .then((tokenObject) =>{\n                storeToken(tokenObject.authToken)\n                authenticateUser()\n                navigate(\"/\")\n            } )\n            .catch(err => console.error(err))\n    }\n\n\n\n    return (\n        \n            <form onSubmit={handleSubmit} className=\"loginForm\">\n                <div>\n                    <h1>Login</h1> \n                    <label>Username</label>\n                    <br />\n                    <input type=\"text\" name=\"username\" value={user.username} onChange={handleChange} />\n                    <br />\n                    <label>Password</label>\n                    <br />\n                    <input type=\"password\" name=\"password\" value={user.password}  onChange={handleChange} />\n                    <br />\n                    <p>If you don't have an account yet, you can create your account <Link to={'/signup'}>here</Link> </p>\n                </div>\n            \n\n        <button type=\"submit\" onSubmit={handleSubmit}>Login </button>\n    \n        \n        </form>\n        \n    );\n\n};\n\n\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}