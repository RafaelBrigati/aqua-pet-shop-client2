{"ast":null,"code":"import _defineProperty from\"/Users/rafaelbrigati/Desktop/aqua-pet-shop-client2/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/rafaelbrigati/Desktop/aqua-pet-shop-client2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/rafaelbrigati/Desktop/aqua-pet-shop-client2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import axios from\"axios\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var apiURL='http://localhost:5005';var initialForm={name:\"\",type:\"\",price:\"\",stock:\"\",description:\"\",imgURL:\"\",rating:\"\"};function NewProduct(props){var _useState=useState(initialForm),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var token=localStorage.getItem(\"authToken\");function handleSubmit(e){e.preventDefault();var newProduct=form;axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products\"),newProduct,{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(response){setForm(initialForm);props.refreshProducts();}).catch(function(error){return console.log(error);});};var handleForm=function handleForm(e){var inputName=e.target.name;var value=e.target.value;setForm(function(user){return _objectSpread(_objectSpread({},user),{},_defineProperty({},inputName,value));});console.log(form);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{width:'800px',paddingLeft:'40%'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:form.name,onChange:handleForm}),\" \",/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"type\",name:\"type\",value:form.type,onChange:handleForm}),\" \",/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"price\",name:\"price\",value:form.price,onChange:handleForm}),\" \",/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Quantity in Stock\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"stock\",name:\"stock\",value:form.stock,onChange:handleForm}),\" \",/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"description\",name:\"description\",value:form.description,onChange:handleForm}),\" \",/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Image URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"imgURL\",name:\"imgURL\",value:form.imgURL,onChange:handleForm}),\" \",/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Rating\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"rating\",name:\"rating\",value:form.rating,onChange:handleForm}),\" \",/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\" Add a New Product \"})]})});};export default NewProduct;","map":{"version":3,"names":["React","axios","useState","jsx","_jsx","jsxs","_jsxs","apiURL","initialForm","name","type","price","stock","description","imgURL","rating","NewProduct","props","_useState","_useState2","_slicedToArray","form","setForm","token","localStorage","getItem","handleSubmit","e","preventDefault","newProduct","post","concat","process","env","REACT_APP_API_URL","headers","Authorization","then","response","refreshProducts","catch","error","console","log","handleForm","inputName","target","value","user","_objectSpread","_defineProperty","children","onSubmit","style","width","paddingLeft","id","onChange"],"sources":["/Users/rafaelbrigati/Desktop/aqua-pet-shop-client2/src/components/NewProduct.js"],"sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\n\nconst apiURL = 'http://localhost:5005';\n\nconst initialForm = {\n  name: \"\",\n  type: \"\",\n  price:\"\" ,\n  stock: \"\",\n  description: \"\",\n  imgURL: \"\",\n  rating: \"\",\n };\n\nfunction NewProduct(props) {\n\n   const [form, setForm] = useState(initialForm);\n   const token = localStorage.getItem(\"authToken\");\n\n   function handleSubmit (e) {\n    e.preventDefault();\n    const newProduct = form;\n\n    axios.post(`${process.env.REACT_APP_API_URL}/api/products`, newProduct, {\n      headers: {\n        Authorization:`Bearer ${token}`\n      }\n        })\n    .then((response) => {\n      setForm(initialForm);\n      props.refreshProducts();  \n    })\n    .catch((error) => console.log(error)); \n   };\n  \n\n  const handleForm = (e) => {\n    const inputName = e.target.name;\n    const value = e.target.value; \n    setForm(user => ({...user, [inputName]: value}))\n    console.log(form)\n\n    \n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit} style={{width:'800px', paddingLeft:'40%'}}>\n\n        <label>Name</label>\n        <input type=\"text\" id=\"name\" name=\"name\" value={form.name} onChange={handleForm} /> <p></p>\n\n        <label>Type</label>\n        <input type=\"text\" id=\"type\" name=\"type\" value={form.type} onChange={handleForm} /> <p></p>\n\n        <label>Price</label>\n        <input type=\"text\" id=\"price\" name=\"price\" value={form.price} onChange={handleForm} /> <p></p>\n        <label>Quantity in Stock</label>\n        \n        <input type=\"text\" id=\"stock\" name=\"stock\" value={form.stock} onChange={handleForm} /> <p></p>\n\n        <label>Description</label>\n        \n        <input type=\"text\" id=\"description\" name=\"description\" value={form.description} onChange={handleForm} /> <p></p>\n\n        <label>Image URL</label>\n       \n        <input type=\"text\" id=\"imgURL\" name=\"imgURL\" value={form.imgURL} onChange={handleForm} /> <p></p>\n\n        <label>Rating</label>\n        \n        <input type=\"text\" id=\"rating\" name=\"rating\" value={form.rating} onChange={handleForm} /> <p></p>\n\n      <button type=\"submit\"> Add a New Product </button>\n      </form>\n\n   \n    </div>\n  );\n};\n\n\n\n\n\n\n\nexport default NewProduct;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}